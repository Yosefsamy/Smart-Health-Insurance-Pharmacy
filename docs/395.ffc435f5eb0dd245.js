"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[395],{8395:(P,d,a)=>{a.r(d),a.d(d,{VerifyCodePatientComponent:()=>h});var _=a(6814),n=a(95),e=a(5879),f=a(6628),u=a(2956),c=a(2425);function g(o,l){if(1&o&&(e.TgZ(0,"div",11),e._uU(1),e.qZA()),2&o){const r=e.oxw();e.xp6(1),e.hij(" ",r.apiErrorMessage," ")}}function m(o,l){1&o&&(e.TgZ(0,"p",14),e._uU(1,"Code Is Required"),e.qZA())}function p(o,l){1&o&&(e.TgZ(0,"p",14),e._uU(1,"Code Is Invalid "),e.qZA())}function C(o,l){if(1&o&&(e.TgZ(0,"div",12),e.YNc(1,m,2,0,"p",13),e.YNc(2,p,2,0,"p",13),e.qZA()),2&o){const r=e.oxw();let i,t;e.xp6(1),e.Q6J("ngIf",null==(i=r.VerifyCodePatient.get("code"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=r.VerifyCodePatient.get("code"))?null:t.getError("pattern"))}}let h=(()=>{class o{constructor(r,i,t){this._authService=r,this._router=i,this._toastr=t,this.isNotValidForm=!1,this.apiErrorMessage="",this.VerifyCodePatient=new n.cw({code:new n.NI("",[n.kI.required,n.kI.pattern(/^\d{6}$/)])})}VerifyCode(r){if(this.isNotValidForm=!0,r.valid){const i={email:this._authService.UserEmail,code:this.VerifyCodePatient.value.code,role:"PATIENT"};console.log(i),this._authService.VerifyResetCode(i).subscribe({next:t=>{console.log(t),this._toastr.success(t.message),setTimeout(()=>{this._toastr.clear()},1200),setTimeout(()=>{this._router.navigate(["/ResetPasswordPatient"])},1205)},error:t=>{console.log(t),this.apiErrorMessage=t.error.message}})}else this.isNotValidForm=!1}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(f.e),e.Y36(u.F0),e.Y36(c._W))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-verify-code-patient"]],standalone:!0,features:[e.jDz],decls:14,vars:3,consts:[[1,"section","h-75","d-flex","justify-content-center","align-items-center"],[1,"container","w-75","mt-5","shadow-lg","rounded-2","p-5"],["class","alert alert-danger",4,"ngIf"],[1,"text-center","mt-3"],[3,"formGroup","ngSubmit"],[1,"form-floating","mt-3","position-relative"],["type","tel","formControlName","code","maxlength","6","id","floatingInput","placeholder","Verify Code",1,"form-control"],["for","floatingInput"],[1,"fa-solid","fa-hashtag"],["class","alert alert-danger mt-1",4,"ngIf"],["type","submit",1,"btn","mt-4","px-5","fs-5","mb-3","text-white","mx-auto","d-block"],[1,"alert","alert-danger"],[1,"alert","alert-danger","mt-1"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(i,t){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,g,2,1,"div",2),e.TgZ(3,"h1",3),e._uU(4,"Enter The Verify Code"),e.qZA(),e.TgZ(5,"form",4),e.NdJ("ngSubmit",function(){return t.VerifyCode(t.VerifyCodePatient)}),e.TgZ(6,"div",5),e._UZ(7,"input",6),e.TgZ(8,"label",7),e._uU(9,"Code"),e.qZA(),e._UZ(10,"i",8),e.qZA(),e.YNc(11,C,3,2,"div",9),e.TgZ(12,"button",10),e._uU(13," Submit "),e.qZA()()()()),2&i){let s;e.xp6(2),e.Q6J("ngIf",t.apiErrorMessage),e.xp6(3),e.Q6J("formGroup",t.VerifyCodePatient),e.xp6(6),e.Q6J("ngIf",(null==(s=t.VerifyCodePatient.get("code"))?null:s.errors)&&((null==(s=t.VerifyCodePatient.get("code"))?null:s.touched)||t.isNotValidForm))}},dependencies:[_.ez,_.O5,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.nD,n.sg,n.u],styles:["input[_ngcontent-%COMP%]{background-color:#eff0f6}i[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;z-index:2;height:100%;padding:1rem .75rem;overflow:hidden;text-overflow:ellipsis}button[_ngcontent-%COMP%]{background:#0866FF;transition:.4s all}button[_ngcontent-%COMP%]:hover{background:#0545ac}"]})}return o})()}}]);