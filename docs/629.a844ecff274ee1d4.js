"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[629],{7629:(I,g,i)=>{i.r(g),i.d(g,{ChangePasswordComponent:()=>E});var _=i(6814),a=i(95),e=i(5879),p=i(6628),u=i(2956),w=i(2425);function h(s,r){if(1&s&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&s){const n=e.oxw();e.xp6(1),e.hij(" ",n.apiErrorMessage," ")}}function m(s,r){1&s&&e._UZ(0,"i",14)}function c(s,r){1&s&&e._UZ(0,"i",15)}function P(s,r){1&s&&(e.TgZ(0,"p",17),e._uU(1,"Old Password is required"),e.qZA())}function f(s,r){1&s&&(e.TgZ(0,"p",17),e._uU(1," Old Password is invalid , Minimum eight characters, at least one letter and one number"),e.qZA())}function C(s,r){if(1&s&&(e.TgZ(0,"div",13),e.YNc(1,P,2,0,"p",16),e.YNc(2,f,2,0,"p",16),e.qZA()),2&s){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.ChangePassword.get("oldPassword"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.ChangePassword.get("oldPassword"))?null:t.getError("pattern"))}}function T(s,r){1&s&&e._UZ(0,"i",14)}function Z(s,r){1&s&&e._UZ(0,"i",15)}function v(s,r){1&s&&(e.TgZ(0,"p",17),e._uU(1,"New Password is required"),e.qZA())}function N(s,r){1&s&&(e.TgZ(0,"p",17),e._uU(1," New Password is invalid , Minimum eight characters, at least one letter and one number"),e.qZA())}function O(s,r){if(1&s&&(e.TgZ(0,"div",13),e.YNc(1,v,2,0,"p",16),e.YNc(2,N,2,0,"p",16),e.qZA()),2&s){const n=e.oxw();let o,t;e.xp6(1),e.Q6J("ngIf",null==(o=n.ChangePassword.get("newPassword"))?null:o.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(t=n.ChangePassword.get("newPassword"))?null:t.getError("pattern"))}}let E=(()=>{class s{constructor(n,o,t){this._authService=n,this._router=o,this._toastr=t,this.isNotValidForm=!1,this.apiErrorMessage="",this.hideOldPassword=!0,this.hideNewPassword=!0,this.ChangePassword=new a.cw({oldPassword:new a.NI("",[a.kI.required,a.kI.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)]),newPassword:new a.NI("",[a.kI.required,a.kI.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)])})}ChangePass(n){this.isNotValidForm=!0,n.valid?this._authService.ChangePassword(n.value).subscribe({next:o=>{console.log(o),this._toastr.success(o.message),setTimeout(()=>{this._toastr.clear()},1200),localStorage.getItem("patientToken")?setTimeout(()=>{this._router.navigate(["/patientHome"])},1205):setTimeout(()=>{this._router.navigate(["/doctorHome"])},1205)},error:o=>{this.apiErrorMessage=o.error.message}}):this.isNotValidForm=!1}toggleOldPasswordVisibility(){this.hideOldPassword=!this.hideOldPassword}toggleNewPasswordVisibility(){this.hideNewPassword=!this.hideNewPassword}static#e=this.\u0275fac=function(o){return new(o||s)(e.Y36(p.e),e.Y36(u.F0),e.Y36(w._W))};static#s=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-change-password"]],standalone:!0,features:[e.jDz],decls:26,vars:10,consts:[[1,"section","h-75","d-flex","justify-content-center","align-items-center"],[1,"container","w-75","mt-5","shadow-lg","rounded-2","p-5"],["class","alert alert-danger",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mt-3","ms-1"],[1,"form-floating","mb-2","position-relative"],["formControlName","oldPassword","id","floatingPassword","placeholder","Password",1,"form-control",3,"type"],["for","floatingPassword"],[1,"cursor-pointer",3,"click"],["class","fa-solid fa-eye",4,"ngIf"],["class","fa-solid fa-eye-slash",4,"ngIf"],["formControlName","newPassword","id","floatingPassword","placeholder","Password",1,"form-control",3,"type"],["type","submit",1,"btn","mt-4","px-5","fs-5","mb-3","text-white","mx-auto","d-block"],[1,"alert","alert-danger"],[1,"fa-solid","fa-eye"],[1,"fa-solid","fa-eye-slash"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,h,2,1,"div",2),e.TgZ(3,"form",3),e.NdJ("ngSubmit",function(){return t.ChangePass(t.ChangePassword)}),e.TgZ(4,"h6",4),e._uU(5,"Enter Old Password"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"input",6),e.TgZ(8,"label",7),e._uU(9,"Old Password"),e.qZA(),e.TgZ(10,"span",8),e.NdJ("click",function(){return t.toggleOldPasswordVisibility()}),e.YNc(11,m,1,0,"i",9),e.YNc(12,c,1,0,"i",10),e.qZA()(),e.YNc(13,C,3,2,"div",2),e.TgZ(14,"h6",4),e._uU(15,"Enter New Password"),e.qZA(),e.TgZ(16,"div",5),e._UZ(17,"input",11),e.TgZ(18,"label",7),e._uU(19,"New Password"),e.qZA(),e.TgZ(20,"span",8),e.NdJ("click",function(){return t.toggleNewPasswordVisibility()}),e.YNc(21,T,1,0,"i",9),e.YNc(22,Z,1,0,"i",10),e.qZA()(),e.YNc(23,O,3,2,"div",2),e.TgZ(24,"button",12),e._uU(25," Submit "),e.qZA()()()()),2&o){let d,l;e.xp6(2),e.Q6J("ngIf",t.apiErrorMessage),e.xp6(1),e.Q6J("formGroup",t.ChangePassword),e.xp6(4),e.Q6J("type",t.hideOldPassword?"password":"text"),e.xp6(4),e.Q6J("ngIf",!t.hideOldPassword),e.xp6(1),e.Q6J("ngIf",t.hideOldPassword),e.xp6(1),e.Q6J("ngIf",(null==(d=t.ChangePassword.get("oldPassword"))?null:d.errors)&&((null==(d=t.ChangePassword.get("oldPassword"))?null:d.touched)||t.isNotValidForm)),e.xp6(4),e.Q6J("type",t.hideNewPassword?"password":"text"),e.xp6(4),e.Q6J("ngIf",!t.hideNewPassword),e.xp6(1),e.Q6J("ngIf",t.hideNewPassword),e.xp6(1),e.Q6J("ngIf",(null==(l=t.ChangePassword.get("newPassword"))?null:l.errors)&&((null==(l=t.ChangePassword.get("newPassword"))?null:l.touched)||t.isNotValidForm))}},dependencies:[_.ez,_.O5,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:["input[_ngcontent-%COMP%]{background-color:#eff0f6}i[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;z-index:2;height:100%;padding:1rem .75rem;overflow:hidden;text-overflow:ellipsis}button[_ngcontent-%COMP%]{background:#0866FF;transition:.4s all}button[_ngcontent-%COMP%]:hover{background:#0545ac}"]})}return s})()}}]);