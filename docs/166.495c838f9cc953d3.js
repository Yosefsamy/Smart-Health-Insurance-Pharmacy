"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[166],{9166:($,M,d)=>{d.r(M),d.d(M,{UpdateMedicineComponent:()=>G});var v=d(6814),o=d(95),Z=d(9157),h=d(4146),T=d(2032),e=d(5879),q=d(3207),U=d(2956),x=d(3680);function I(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Name is required"),e.qZA())}function C(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Name MinLength is 3"),e.qZA())}function A(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,I,2,0,"p",33),e.YNc(2,C,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a,i;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("name"))?null:a.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(i=n.updateMedicine.get("name"))?null:i.getError("minlength"))}}function N(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Description is required "),e.qZA())}function b(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Description MaxLength is 200 Character "),e.qZA())}function D(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,N,2,0,"p",33),e.YNc(2,b,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a,i;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("description"))?null:a.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(i=n.updateMedicine.get("description"))?null:i.getError("maxlength"))}}function E(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Minimum age is required "),e.qZA())}function w(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1," Minimum age is Invalid , Must be a number."),e.qZA())}function y(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,E,2,0,"p",33),e.YNc(2,w,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a,i;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("min_age"))?null:a.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(i=n.updateMedicine.get("min_age"))?null:i.getError("pattern"))}}function O(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Maximum age is required "),e.qZA())}function P(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1," Maximum age is Invalid , Must be a number."),e.qZA())}function J(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,O,2,0,"p",33),e.YNc(2,P,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a,i;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("max_age"))?null:a.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(i=n.updateMedicine.get("max_age"))?null:i.getError("pattern"))}}function Q(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Row is required"),e.qZA())}function Y(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,Q,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("row"))?null:a.getError("required"))}}function F(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Column is required"),e.qZA())}function k(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,F,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("column"))?null:a.getError("required"))}}function L(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Treatment dose is required"),e.qZA())}function R(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1," Treatment dose is Invalid , Must be a number."),e.qZA())}function B(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,L,2,0,"p",33),e.YNc(2,R,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a,i;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("treatment_dose"))?null:a.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(i=n.updateMedicine.get("treatment_dose"))?null:i.getError("pattern"))}}function V(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Quantity is required "),e.qZA())}function K(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1," Quantity is Invalid , Must be a number."),e.qZA())}function S(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,V,2,0,"p",33),e.YNc(2,K,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a,i;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("quantity"))?null:a.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(i=n.updateMedicine.get("quantity"))?null:i.getError("pattern"))}}function W(t,l){1&t&&(e.TgZ(0,"p",34),e._uU(1,"Image cover is required "),e.qZA())}function z(t,l){if(1&t&&(e.TgZ(0,"div",32),e.YNc(1,W,2,0,"p",33),e.qZA()),2&t){const n=e.oxw();let a;e.xp6(1),e.Q6J("ngIf",null==(a=n.updateMedicine.get("image_cover"))?null:a.getError("required"))}}let G=(()=>{class t{constructor(n,a,i){this._doctorService=n,this._activatedRoute=a,this._router=i,this.isNotValidForm=!1,this.selectedFile=null,this.medicineId=0,this.medicineDetails={}}ngOnInit(){this._activatedRoute.paramMap.subscribe(n=>{this.medicineId=n.params.id,this.GetMedicineDetails(this.medicineId)}),this.initializeForm()}GetMedicineDetails(n){this._doctorService.MedicineDetails(n).subscribe({next:a=>{console.log(a),this.medicineDetails=a.data,this.initializeForm()},error:a=>{console.log(a)}})}initializeForm(){this.updateMedicine=new o.cw({name:new o.NI(this.medicineDetails?.name,[o.kI.required,o.kI.minLength(3)]),description:new o.NI(this.medicineDetails.description,[o.kI.required,o.kI.maxLength(300)]),quantity:new o.NI(this.medicineDetails.quantity,[o.kI.required,o.kI.pattern(/^[0-9]{1,9}$/)]),max_age:new o.NI(this.medicineDetails.max_age,[o.kI.required,o.kI.pattern(/^[0-9]{1,9}$/)]),min_age:new o.NI(this.medicineDetails.min_age,[o.kI.required,o.kI.pattern(/^[0-9]{1,9}$/)]),row:new o.NI(this.medicineDetails.row,[o.kI.required]),column:new o.NI(this.medicineDetails.column,[o.kI.required]),treatment_dose:new o.NI(this.medicineDetails.treatment_dose,[o.kI.required,o.kI.pattern(/^[0-9]{1,9}$/)]),image_cover:new o.NI("",[o.kI.required])})}updateMedicineDB(){if(console.log(this.updateMedicine),this.updateMedicine.valid){this.isNotValidForm=!1;const n=new FormData;n.append("name",this.updateMedicine.get("name")?.value),n.append("description",this.updateMedicine.get("description")?.value),n.append("quantity",this.updateMedicine.get("quantity")?.value),n.append("max_age",this.updateMedicine.get("max_age")?.value),n.append("min_age",this.updateMedicine.get("min_age")?.value),n.append("row",this.updateMedicine.get("row")?.value),n.append("column",this.updateMedicine.get("column")?.value),n.append("treatment_dose",this.updateMedicine.get("treatment_dose")?.value),n.append("image_cover",this.selectedFile,this.selectedFile.name),this._doctorService.UpdateMedicineDB(n,this.medicineId).subscribe({next:a=>{console.log(a),this._router.navigate(["/medicines"])},error:a=>{console.log(a.error)}})}else this.isNotValidForm=!0}onFileSelected(n){this.selectedFile=n.target.files[0]}static#e=this.\u0275fac=function(a){return new(a||t)(e.Y36(q.O),e.Y36(U.gz),e.Y36(U.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-update-medicine"]],standalone:!0,features:[e.jDz],decls:85,vars:13,consts:[[1,"container","w-75","mx-auto"],[1,"mb-4","main-color","text-center","fw-bolder"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-floating","mb-3","position-relative"],["type","text","formControlName","name","id","floatingInput","placeholder","Name",1,"form-control"],["for","floatingInput"],[1,"fa-solid","fa-user"],["class","alert alert-danger",4,"ngIf"],["type","text","formControlName","description","id","floatingInput","placeholder","Description",1,"form-control"],[1,"fa-solid","fa-text-width"],["type","tel","formControlName","min_age","id","floatingInput","placeholder","min_age",1,"form-control"],[1,"fa-solid","fa-user-minus"],["type","tel","formControlName","max_age","id","floatingInput","placeholder","max_age",1,"form-control"],[1,"fa-solid","fa-user-plus"],[1,"form-floating","mb-0"],[1,"w-100"],["formControlName","row",3,"value"],["value","1"],["value","2"],[1,"fa-solid","fa-table-cells"],["formControlName","column",3,"value"],["value","3"],["type","tel","formControlName","treatment_dose","id","floatingInput","placeholder","treatment_dose",1,"form-control",3,"value"],[1,"fa-solid","fa-arrow-down-1-9"],["type","tel","formControlName","quantity","id","floatingInput","placeholder","Quantity",1,"form-control"],[1,"fa-solid","fa-hashtag"],[1,"col-md-12"],["type","file","accept","image/*","formControlName","image_cover","id","floatingInput","placeholder","image_cover",1,"form-control",3,"change"],[1,"fa-solid","fa-image"],["type","submit",1,"btn","button","mt-1","px-5","fs-5","text-white","mx-auto","d-block"],[1,"alert","alert-danger"],["class","mb-0",4,"ngIf"],[1,"mb-0"]],template:function(a,i){if(1&a&&(e.TgZ(0,"section")(1,"div",0)(2,"h1",1),e._uU(3,"Update "),e._UZ(4,"br"),e._uU(5," Medicine"),e.qZA(),e.TgZ(6,"form",2),e.NdJ("ngSubmit",function(){return i.updateMedicineDB()}),e.TgZ(7,"div",3)(8,"div",4)(9,"div",5),e._UZ(10,"input",6),e.TgZ(11,"label",7),e._uU(12,"Name"),e.qZA(),e._UZ(13,"i",8),e.qZA(),e.YNc(14,A,3,2,"div",9),e.qZA(),e.TgZ(15,"div",4)(16,"div",5),e._UZ(17,"input",10),e.TgZ(18,"label",7),e._uU(19,"Description"),e.qZA(),e._UZ(20,"i",11),e.qZA(),e.YNc(21,D,3,2,"div",9),e.qZA(),e.TgZ(22,"div",4)(23,"div",5),e._UZ(24,"input",12),e.TgZ(25,"label",7),e._uU(26,"min_age"),e.qZA(),e._UZ(27,"i",13),e.qZA(),e.YNc(28,y,3,2,"div",9),e.qZA(),e.TgZ(29,"div",4)(30,"div",5),e._UZ(31,"input",14),e.TgZ(32,"label",7),e._uU(33,"max_age"),e.qZA(),e._UZ(34,"i",15),e.qZA(),e.YNc(35,J,3,2,"div",9),e.qZA(),e.TgZ(36,"div",4)(37,"div",16)(38,"mat-form-field",17)(39,"mat-label"),e._uU(40,"Choose Row"),e.qZA(),e.TgZ(41,"mat-select",18)(42,"mat-option",19),e._uU(43,"1"),e.qZA(),e.TgZ(44,"mat-option",20),e._uU(45,"2"),e.qZA()()(),e._UZ(46,"i",21),e.qZA(),e.YNc(47,Y,2,1,"div",9),e.qZA(),e.TgZ(48,"div",4)(49,"div",16)(50,"mat-form-field",17)(51,"mat-label"),e._uU(52,"Choose Column"),e.qZA(),e.TgZ(53,"mat-select",22)(54,"mat-option",19),e._uU(55,"1"),e.qZA(),e.TgZ(56,"mat-option",20),e._uU(57,"2"),e.qZA(),e.TgZ(58,"mat-option",23),e._uU(59,"3"),e.qZA()()(),e._UZ(60,"i",21),e.qZA(),e.YNc(61,k,2,1,"div",9),e.qZA(),e.TgZ(62,"div",4)(63,"div",5),e._UZ(64,"input",24),e.TgZ(65,"label",7),e._uU(66,"treatment_dose"),e.qZA(),e._UZ(67,"i",25),e.qZA(),e.YNc(68,B,3,2,"div",9),e.qZA(),e.TgZ(69,"div",4)(70,"div",5),e._UZ(71,"input",26),e.TgZ(72,"label",7),e._uU(73,"Quantity"),e.qZA(),e._UZ(74,"i",27),e.qZA(),e.YNc(75,S,3,2,"div",9),e.qZA(),e.TgZ(76,"div",28)(77,"div",5)(78,"input",29),e.NdJ("change",function(p){return i.onFileSelected(p)}),e.qZA(),e.TgZ(79,"label",7),e._uU(80,"image_cover"),e.qZA(),e._UZ(81,"i",30),e.qZA(),e.YNc(82,z,2,1,"div",9),e.qZA()(),e.TgZ(83,"button",31),e._uU(84," Update "),e.qZA()()()()),2&a){let r,p,u,_,c,m,s,g,f;e.xp6(6),e.Q6J("formGroup",i.updateMedicine),e.xp6(8),e.Q6J("ngIf",(null==(r=i.updateMedicine.get("name"))?null:r.errors)&&((null==(r=i.updateMedicine.get("name"))?null:r.touched)||i.isNotValidForm)),e.xp6(7),e.Q6J("ngIf",(null==(p=i.updateMedicine.get("description"))?null:p.errors)&&((null==(p=i.updateMedicine.get("description"))?null:p.touched)||i.isNotValidForm)),e.xp6(7),e.Q6J("ngIf",(null==(u=i.updateMedicine.get("min_age"))?null:u.errors)&&((null==(u=i.updateMedicine.get("min_age"))?null:u.touched)||i.isNotValidForm)),e.xp6(7),e.Q6J("ngIf",(null==(_=i.updateMedicine.get("max_age"))?null:_.errors)&&((null==(_=i.updateMedicine.get("max_age"))?null:_.touched)||i.isNotValidForm)),e.xp6(6),e.s9C("value",i.medicineDetails.row),e.xp6(6),e.Q6J("ngIf",(null==(c=i.updateMedicine.get("row"))?null:c.errors)&&((null==(c=i.updateMedicine.get("row"))?null:c.touched)||i.isNotValidForm)),e.xp6(6),e.s9C("value",i.medicineDetails.column),e.xp6(8),e.Q6J("ngIf",(null==(m=i.updateMedicine.get("column"))?null:m.errors)&&((null==(m=i.updateMedicine.get("column"))?null:m.touched)||i.isNotValidForm)),e.xp6(3),e.s9C("value",i.medicineDetails.treatment_dose),e.xp6(4),e.Q6J("ngIf",(null==(s=i.updateMedicine.get("treatment_dose"))?null:s.errors)&&((null==(s=i.updateMedicine.get("treatment_dose"))?null:s.touched)||i.isNotValidForm)),e.xp6(7),e.Q6J("ngIf",(null==(g=i.updateMedicine.get("quantity"))?null:g.errors)&&((null==(g=i.updateMedicine.get("quantity"))?null:g.touched)||i.isNotValidForm)),e.xp6(7),e.Q6J("ngIf",(null==(f=i.updateMedicine.get("image_cover"))?null:f.errors)&&((null==(f=i.updateMedicine.get("image_cover"))?null:f.touched)||i.isNotValidForm))}},dependencies:[v.ez,v.O5,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,Z.lN,Z.KE,Z.hX,h.LD,h.gD,x.ey,T.c],styles:[".button[_ngcontent-%COMP%]{background-color:var(--secondary-color);transition:.3s all}.button[_ngcontent-%COMP%]:hover{background-color:#055ad9}h1[_ngcontent-%COMP%]{text-shadow:0px 0px 114px rgba(0,87,255,.25);font-size:34px;font-family:var(--font-secondary);font-weight:400;letter-spacing:10px}input[_ngcontent-%COMP%]{background-color:#ececec!important}i[_ngcontent-%COMP%]{position:absolute;top:5px;right:0;z-index:2;height:100%;padding:1rem .75rem;overflow:hidden;text-overflow:ellipsis}  .mdc-line-ripple:before, .mdc-line-ripple[_ngcontent-%COMP%]:after{border-bottom:none!important;content:none!important}  .mat-mdc-text-field-wrapper{background-color:#ececec!important;border-radius:.375rem!important}  mat-label{color:#000}label[_ngcontent-%COMP%]:after{background-color:transparent!important}.PlusIcon[_ngcontent-%COMP%]{position:static}@media screen and (min-width : 521px){h1[_ngcontent-%COMP%]   br[_ngcontent-%COMP%]{display:none}}@media screen and (max-width : 768.99px){section[_ngcontent-%COMP%]{padding-bottom:20px;margin-top:20px}}@media screen and (min-width : 769px){section[_ngcontent-%COMP%]{min-height:88vh;display:flex;justify-content:center;align-items:center}}"]})}return t})()}}]);